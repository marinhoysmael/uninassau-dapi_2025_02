# Aula de Arquitetura Cliente-Servidor, REST e Node.js + Express

## ğŸ¯ Objetivos da Aula
- Entender o que Ã© a **arquitetura cliente-servidor**.  
- Compreender os princÃ­pios de uma **API REST**.  
- Aprender como o **Node.js** permite criar servidores.  
- Utilizar o **Express.js** para desenvolver APIs de forma simples.  
- Praticar com exemplos de rotas e integraÃ§Ã£o cliente-servidor.  

---

## 1. Arquitetura Cliente-Servidor
A arquitetura cliente-servidor divide o sistema em duas partes principais:  

- **Cliente (frontend)** â†’ Interface que o usuÃ¡rio utiliza (navegador, aplicativo, etc.).  
- **Servidor (backend)** â†’ Onde ficam as regras de negÃ³cio, processamento e acesso a dados.  

ğŸ“Œ Exemplo:
- O cliente (navegador) faz uma **requisiÃ§Ã£o**.  
- O servidor (Node.js) **processa** e envia uma **resposta**.  

Fluxo bÃ¡sico:
```
[ Cliente ] â†’ requisiÃ§Ã£o (HTTP) â†’ [ Servidor ] â†’ resposta (HTTP) â†’ [ Cliente ]
```

---

## 2. O que Ã© REST?
**REST (Representational State Transfer)** Ã© um estilo de arquitetura que usa o protocolo HTTP para comunicaÃ§Ã£o.  

### PrincÃ­pios principais:
- **Recursos** â†’ tudo Ã© tratado como um recurso (ex: `/usuarios`, `/produtos`).  
- **MÃ©todos HTTP** â†’ cada mÃ©todo tem um significado:  
  - `GET` â†’ buscar informaÃ§Ãµes  
  - `POST` â†’ criar novo recurso  
  - `PUT` â†’ atualizar recurso  
  - `DELETE` â†’ remover recurso  
- **Stateless** â†’ o servidor nÃ£o guarda estado da sessÃ£o, cada requisiÃ§Ã£o Ã© independente.  
- **RepresentaÃ§Ã£o** â†’ os dados podem ser retornados em JSON, XML, HTML, etc. (normalmente JSON).  

### Exemplo de endpoints REST para "usuÃ¡rios":
- `GET /usuarios` â†’ retorna lista de usuÃ¡rios.  
- `GET /usuarios/1` â†’ retorna o usuÃ¡rio com ID 1.  
- `POST /usuarios` â†’ cria um novo usuÃ¡rio.  
- `PUT /usuarios/1` â†’ atualiza o usuÃ¡rio com ID 1.  
- `DELETE /usuarios/1` â†’ deleta o usuÃ¡rio com ID 1.  

---

## 3. Node.js e Express
O **Node.js** permite rodar JavaScript no servidor.  
O **Express.js** Ã© um framework que facilita a criaÃ§Ã£o de APIs e servidores web.  

### Instalando o Express
```bash
npm init -y
npm install express
```

---

## 4. Criando um Servidor com Express
Exemplo de servidor bÃ¡sico em Node.js + Express:

```javascript
const express = require("express");
const app = express();
const PORT = 3000;

// Middleware para entender JSON
app.use(express.json());

// Rota GET
app.get("/", (req, res) => {
  res.send("OlÃ¡, mundo! ğŸš€");
});

// Rota GET com recurso
app.get("/usuarios", (req, res) => {
  res.json([{ id: 1, nome: "Maria" }, { id: 2, nome: "JoÃ£o" }]);
});

// Rota POST
app.post("/usuarios", (req, res) => {
  const novoUsuario = req.body;
  res.status(201).json({ mensagem: "UsuÃ¡rio criado!", usuario: novoUsuario });
});

app.listen(PORT, () => {
  console.log(`Servidor rodando em http://localhost:${PORT}`);
});
```

ğŸ“Œ O servidor acima:
- Retorna **texto** na rota `/`.  
- Retorna uma lista de usuÃ¡rios em `/usuarios`.  
- Permite criar usuÃ¡rios com `POST /usuarios`.  

---

## 5. IntegraÃ§Ã£o Cliente-Servidor
No lado **cliente** (ex: navegador), podemos consumir a API usando `fetch`:  

```html
<script>
  // Buscar lista de usuÃ¡rios
  fetch("http://localhost:3000/usuarios")
    .then(res => res.json())
    .then(data => console.log(data));

  // Criar novo usuÃ¡rio
  fetch("http://localhost:3000/usuarios", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ id: 3, nome: "Ana" })
  })
  .then(res => res.json())
  .then(data => console.log(data));
</script>
```

---

## ğŸ¯ ConclusÃ£o
- **Arquitetura cliente-servidor** divide o sistema em frontend (cliente) e backend (servidor).  
- **REST** Ã© um estilo de arquitetura para APIs, usando HTTP e recursos.  
- **Node.js** permite rodar JavaScript no servidor.  
- **Express.js** facilita a criaÃ§Ã£o de APIs REST.  
- Com **fetch** ou outras bibliotecas no cliente, conseguimos integrar com o servidor.  

---

## ğŸ§‘â€ğŸ’» Desafio Final
Crie uma API simples em **Node.js + Express** para gerenciar **produtos**:
1. Rota `GET /produtos` â†’ lista todos os produtos.  
2. Rota `POST /produtos` â†’ adiciona um novo produto.  
3. Rota `PUT /produtos/:id` â†’ atualiza um produto existente.  
4. Rota `DELETE /produtos/:id` â†’ remove um produto.  
5. Consuma a API com `fetch` no navegador e mostre os produtos em uma tabela.  