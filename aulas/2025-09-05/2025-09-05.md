# Aula de Arquitetura Cliente-Servidor, REST e Node.js + Express

## 🎯 Objetivos da Aula
- Entender o que é a **arquitetura cliente-servidor**.  
- Compreender os princípios de uma **API REST**.  
- Aprender como o **Node.js** permite criar servidores.  
- Utilizar o **Express.js** para desenvolver APIs de forma simples.  
- Praticar com exemplos de rotas e integração cliente-servidor.  

---

## 1. Arquitetura Cliente-Servidor
A arquitetura cliente-servidor divide o sistema em duas partes principais:  

- **Cliente (frontend)** → Interface que o usuário utiliza (navegador, aplicativo, etc.).  
- **Servidor (backend)** → Onde ficam as regras de negócio, processamento e acesso a dados.  

📌 Exemplo:
- O cliente (navegador) faz uma **requisição**.  
- O servidor (Node.js) **processa** e envia uma **resposta**.  

Fluxo básico:
```
[ Cliente ] → requisição (HTTP) → [ Servidor ] → resposta (HTTP) → [ Cliente ]
```

---

## 2. O que é REST?
**REST (Representational State Transfer)** é um estilo de arquitetura que usa o protocolo HTTP para comunicação.  

### Princípios principais:
- **Recursos** → tudo é tratado como um recurso (ex: `/usuarios`, `/produtos`).  
- **Métodos HTTP** → cada método tem um significado:  
  - `GET` → buscar informações  
  - `POST` → criar novo recurso  
  - `PUT` → atualizar recurso  
  - `DELETE` → remover recurso  
- **Stateless** → o servidor não guarda estado da sessão, cada requisição é independente.  
- **Representação** → os dados podem ser retornados em JSON, XML, HTML, etc. (normalmente JSON).  

### Exemplo de endpoints REST para "usuários":
- `GET /usuarios` → retorna lista de usuários.  
- `GET /usuarios/1` → retorna o usuário com ID 1.  
- `POST /usuarios` → cria um novo usuário.  
- `PUT /usuarios/1` → atualiza o usuário com ID 1.  
- `DELETE /usuarios/1` → deleta o usuário com ID 1.  

---

## 3. Node.js e Express
O **Node.js** permite rodar JavaScript no servidor.  
O **Express.js** é um framework que facilita a criação de APIs e servidores web.  

### Instalando o Express
```bash
npm init -y
npm install express
```

---

## 4. Criando um Servidor com Express
Exemplo de servidor básico em Node.js + Express:

```javascript
const express = require("express");
const app = express();
const PORT = 3000;

// Middleware para entender JSON
app.use(express.json());

// Rota GET
app.get("/", (req, res) => {
  res.send("Olá, mundo! 🚀");
});

// Rota GET com recurso
app.get("/usuarios", (req, res) => {
  res.json([{ id: 1, nome: "Maria" }, { id: 2, nome: "João" }]);
});

// Rota POST
app.post("/usuarios", (req, res) => {
  const novoUsuario = req.body;
  res.status(201).json({ mensagem: "Usuário criado!", usuario: novoUsuario });
});

app.listen(PORT, () => {
  console.log(`Servidor rodando em http://localhost:${PORT}`);
});
```

📌 O servidor acima:
- Retorna **texto** na rota `/`.  
- Retorna uma lista de usuários em `/usuarios`.  
- Permite criar usuários com `POST /usuarios`.  

---

## 5. Integração Cliente-Servidor
No lado **cliente** (ex: navegador), podemos consumir a API usando `fetch`:  

```html
<script>
  // Buscar lista de usuários
  fetch("http://localhost:3000/usuarios")
    .then(res => res.json())
    .then(data => console.log(data));

  // Criar novo usuário
  fetch("http://localhost:3000/usuarios", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ id: 3, nome: "Ana" })
  })
  .then(res => res.json())
  .then(data => console.log(data));
</script>
```

---

## 🎯 Conclusão
- **Arquitetura cliente-servidor** divide o sistema em frontend (cliente) e backend (servidor).  
- **REST** é um estilo de arquitetura para APIs, usando HTTP e recursos.  
- **Node.js** permite rodar JavaScript no servidor.  
- **Express.js** facilita a criação de APIs REST.  
- Com **fetch** ou outras bibliotecas no cliente, conseguimos integrar com o servidor.  

---

## 🧑‍💻 Desafio Final
Crie uma API simples em **Node.js + Express** para gerenciar **produtos**:
1. Rota `GET /produtos` → lista todos os produtos.  
2. Rota `POST /produtos` → adiciona um novo produto.  
3. Rota `PUT /produtos/:id` → atualiza um produto existente.  
4. Rota `DELETE /produtos/:id` → remove um produto.  
5. Consuma a API com `fetch` no navegador e mostre os produtos em uma tabela.  